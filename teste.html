<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  ola

  <script>
    // Detecta a intenção de saída do usuário
      window.addEventListener('beforeunload', function (e) {
        // Exibe uma mensagem de confirmação (este comportamento pode variar dependendo do navegador)
        const message = 'Você tem certeza que deseja sair da página?';
        e.returnValue = message; // Alguns navegadores precisam disso para mostrar a mensagem
        return message; // Outros navegadores podem precisar disso
      });

      // Detecta o movimento de rolagem e tenta identificar quando o usuário pode estar saindo
      let isScrolling;

      window.addEventListener('scroll', function () {
        window.clearTimeout(isScrolling);

        isScrolling = setTimeout(function () {
          // Verifica se o usuário rolou até o final da página
          const scrollPosition = window.scrollY + window.innerHeight;
          const documentHeight = document.documentElement.scrollHeight;

          // Se o usuário rolar até o final, exibe o alerta
          if (scrollPosition >= documentHeight) {
            alert('Você está no final da página. Tem certeza que deseja sair?');
          }
        }, 66); // Delay de 66ms para simular comportamento similar ao "debounce"
      });

      // Detecta a interação com a barra de navegação ou tentativa de fechar a página
      window.addEventListener('blur', function () {
        alert('Você está saindo da página!');
      });

  </script>
</body>
</html>